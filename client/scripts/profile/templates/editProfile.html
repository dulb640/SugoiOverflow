<div class="profile-layout container">
  <div class="user-details">
    <div class="profile">
      <img class="avatar" ng-file-select ng-file-change="uploadAvatar($files)" ng-multiple="false" ng-src="{{avatarUrl}}"/>
      <div class="karma">{{karma}}</div>
      <div class="name">{{displayName}}</div>
    </div>
  </div>
  <form novalidate class="profile-form" name="profileForm" ng-submit="submit()">
    <div class="form-group">
      <div class="form-label location" for="location">Location</div>
      <input class="form-control location" type="text" name="location" maxlength="170" ng-model="location" placeholder="e.g. Auckland, first floor near watercooler">
    </div>
    <div>
    <div class="form-label specialisations" for="selectedTags">Specialisations</div>
      <tags-input ng-model="selectedTags" name="selectedTags" max-tags="30" min-length="3" max-length="30" on-tag-added="formatTag($tag)">
        <auto-complete source="getTagsAutocomlete($query)"></auto-complete>
      </tags-input>
    </div>
    <div class="validation-messages" ng-show="!profileForm.$valid && profileForm.$submitted">
        <ng-messages for="profileForm.location.$error">
          <ng-message when="maxlength">
            <p>Location is too long</p>
          </ng-message>
        </ng-messages>
        <ng-messages for="profileForm.selectedTags.$error">
          <ng-message when="maxTags">
            <p>Please enter at most thirty tags</p>
          </ng-message>
          <ng-message when="minLength">
            <p>Your tag is too short</p>
          </ng-message>
          <ng-message when="maxLength">
            <p>Your tag is too long</p>
          </ng-message>
        </ng-messages>
      </div>
    <button class="form-submit action-button" type="submit">Save Changes</button>
  </form>
</div>
